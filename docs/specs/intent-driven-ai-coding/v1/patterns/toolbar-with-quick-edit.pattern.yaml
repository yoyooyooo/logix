id: toolbar-with-quick-edit
name: 工具栏 + 快速编辑
version: v1
status: draft
summary: 适用于列表页顶部工具栏，提供快速编辑入口与导出入口的组合模式。

problem: >
  在管理后台中，列表页顶部工具栏通常包含“新增”“导出”“批量操作”等按钮。
  部分场景还需要提供行内快速编辑能力（例如修改备注），但如果每个页面自行设计，
  容易产生交互不一致和状态管理混乱。toolbar-with-quick-edit 模式提供一套统一的
  工具栏与快速编辑入口设计。

applicability:
  goodFor:
    - 列表页顶部工具栏
    - 需要导出/快速编辑入口的场景
  badFor:
    - 只需要单个“新增”按钮的极简工具栏
    - 复杂审批/流程操作，应由专门模式承载
  requiredSceneType:
    - list-page

composition:
  roles:
    - id: ToolbarComponent
      label: 工具栏组件
      description: >
        渲染顶部工具栏按钮（导出、快速编辑等），触发对应的交互事件。
      requires:
        - QuickEditService
        - ExportService
    - id: QuickEditComponent
      label: 快速编辑组件
      description: >
        （可选）负责展示和提交快速编辑表单，通常以弹层形式出现。
      provides: QuickEditService

dataContract:
  description: >
    快速编辑操作依赖于实体的可编辑字段和更新接口；导出操作依赖于列表接口和导出接口。

paramsSchema:
  supportQuickEdit:
    type: boolean
    required: false
    default: true
    desc: 是否启用快速编辑入口。
  supportExport:
    type: boolean
    required: false
    default: true
    desc: 是否启用导出入口。
  entity:
    type: string
    required: false
    desc: 用于快速编辑时绑定实体名称（例如 Order）。
  editableFields:
    type: array
    required: false
    item:
      type: string
    desc: 快速编辑允许修改的字段列表（例如 ["remark"]）。

uiSchema:
  supportQuickEdit:
    widget: switch
    label: 启用快速编辑
  supportExport:
    widget: switch
    label: 启用导出
  entity:
    widget: select
    label: 绑定实体
    optionsFrom: intent.domain.entities
  editableFields:
    widget: multi-select
    label: 可快速编辑字段
    optionsFrom: intent.domain.entities[entity].fields
