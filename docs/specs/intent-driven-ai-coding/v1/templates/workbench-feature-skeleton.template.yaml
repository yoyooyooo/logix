id: workbench-feature-skeleton
name: 工作台特性骨架模板
version: v1
status: draft
description: >
  在 React + 状态管理栈下，为基于 workbench-layout / table-with-server-filter /
  service-adapter-query / zustand-store-with-slices 等模式的运营工作台场景生成目录骨架和核心组件/Store/Hook。

runtimeBindings:
  uiCapabilities:
    table:
      useComponent: ProTable
      import: "@/components/ProTable"
    layout:
      workbench:
        useComponent: WorkbenchLayout
        import: "@/components/WorkbenchLayout"

patterns:
  - patternId: workbench-layout
    implements:
      - role: WorkbenchLayoutComponent
        impl: react-workbench-shell
        path: src/features/__FEATURE__/pages/__ENTITY__-workbench.page.tsx
      - role: MetricsComponent
        impl: metrics-basic
        path: src/features/__FEATURE__/components/__ENTITY__-metrics.tsx
      - role: LeftPaneComponent
        impl: tasks-list-slot
        path: src/features/__FEATURE__/components/__ENTITY__-tasks-list.slot.tsx
      - role: RightPaneComponent
        impl: task-detail-slot
        path: src/features/__FEATURE__/components/__ENTITY__-task-detail.slot.tsx
  - patternId: table-with-server-filter
    implements:
      - role: TableComponent
        impl: react-table-shell
        path: src/features/__FEATURE__/components/__ENTITY__-tasks-table.tsx
      - role: ColumnsConfig
        impl: columns-config
        path: src/features/__FEATURE__/components/__ENTITY__-tasks-table.config.ts
      - role: FilterStore
        impl: zustand
        path: src/features/__FEATURE__/stores/tasks-filter.slice.ts
      - role: TableStore
        impl: zustand
        path: src/features/__FEATURE__/stores/tasks-table.slice.ts
      - role: ListQueryHook
        impl: react-query
        path: src/features/__FEATURE__/queries/use-__ENTITY__-tasks-list.hook.ts
      - role: ExportService
        optional: true
        impl: http-export
        path: src/features/__FEATURE__/services/__ENTITY__-tasks-export.service.ts
  - patternId: service-adapter-query
    implements:
      - role: ServiceModule
        impl: http-service
        path: src/features/__FEATURE__/services/__ENTITY__-task.service.ts
      - role: AdapterModule
        impl: domain-adapter
        path: src/features/__FEATURE__/adapters/__ENTITY__-task.adapter.ts
      - role: QueryKeysModule
        impl: query-keys
        path: src/features/__FEATURE__/queries/__ENTITY__-task.query-keys.ts
      - role: QueryHookModule
        impl: react-query
        path: src/features/__FEATURE__/queries/use-__ENTITY__-task-detail.hook.tsx
  - patternId: zustand-store-with-slices
    implements:
      - role: StoreRoot
        impl: zustand-main-store
        path: src/features/__FEATURE__/stores/__ENTITY__-task.store.ts
      - role: DataSlice
        impl: zustand-data-slice
        path: src/features/__FEATURE__/stores/__ENTITY__-task-data.slice.ts
      - role: UISlice
        impl: zustand-ui-slice
        path: src/features/__FEATURE__/stores/__ENTITY__-task-ui.slice.ts

params:
  FEATURE:
    desc: 功能目录名（kebab-case，例如 ops-workbench）
    required: true
  ENTITY:
    desc: 实体名（PascalCase，例如 Task）
    required: true
