{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://intent-flow.local/specs/010-form-api-perf-boundaries/schemas/error-value.schema.json",
  "title": "ErrorValue",
  "description": "Slim, serializable error value. `null` means no error. Budget: JSON-serialized size MUST be <= 256 bytes.",
  "anyOf": [
    { "type": "null" },
    { "type": "string", "minLength": 1 },
    {
      "type": "object",
      "additionalProperties": false,
      "required": ["message"],
      "properties": {
        "code": { "type": "string", "minLength": 1 },
        "message": { "type": "string", "minLength": 1 },
        "details": { "description": "Optional serializable details.", "nullable": true }
      }
    }
  ]
}
