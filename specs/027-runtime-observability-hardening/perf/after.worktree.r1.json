{
  "meta": {
    "createdAt": "2025-12-23T17:16:45.363Z",
    "generator": "scripts/perf/027-runtime-observability-hardening.devtools-and-txn-baseline.ts",
    "git": {
      "branch": "dev",
      "commit": "687913cab3b0132cbd25ec84dc561788931a4e8f",
      "dirty": true
    },
    "env": {
      "node": "v22.21.1",
      "platform": "darwin/arm64",
      "gc": true
    },
    "config": {
      "outFile": "specs/027-runtime-observability-hardening/perf/after.worktree.r1.json",
      "runs": 10,
      "warmupDiscard": 2,
      "eventsNotFull": 1000,
      "events100k": 100000,
      "txnIters": 20000,
      "cleanupRuns": 10,
      "cleanupWarmupDiscard": 2,
      "cleanupInstances": 10000,
      "algoIters": 100000
    }
  },
  "suites": {
    "ringBufferAlgorithm": [
      {
        "algo": "shift",
        "bufferSize": 500,
        "iters": 100000,
        "totalMs": 9.742541999999958,
        "nsPerOp": 97.42541999999958,
        "trimOps": 99500,
        "maxLength": 500,
        "finalLength": 500
      },
      {
        "algo": "shift",
        "bufferSize": 5000,
        "iters": 100000,
        "totalMs": 9.584500000000048,
        "nsPerOp": 95.84500000000048,
        "trimOps": 95000,
        "maxLength": 5000,
        "finalLength": 5000
      },
      {
        "algo": "batch_splice",
        "bufferSize": 500,
        "iters": 100000,
        "totalMs": 2.79424999999992,
        "nsPerOp": 27.9424999999992,
        "trimOps": 396,
        "maxLength": 750,
        "finalLength": 604
      },
      {
        "algo": "batch_splice",
        "bufferSize": 5000,
        "iters": 100000,
        "totalMs": 2.536416999999915,
        "nsPerOp": 25.36416999999915,
        "trimOps": 92,
        "maxLength": 6024,
        "finalLength": 5700
      }
    ],
    "devtoolsHubRecord": {
      "window500": {
        "notFull": {
          "bufferSize": 500,
          "diagnosticsLevel": "light",
          "events": 400,
          "result": {
            "runs": 10,
            "warmupDiscard": 2,
            "samplesMs": [
              3.1637499999999363, 2.9507500000000846, 3.0420420000000377, 2.9135410000000093, 2.166417000000024,
              2.678666000000021, 2.974375000000009, 2.2857079999999996
            ],
            "heapDeltaBytesSamples": [75024, 14720, 91104, -8880, -9288, -10280, 46992, 6744],
            "timeMs": {
              "n": 8,
              "p50Ms": 2.9135410000000093,
              "p95Ms": 3.0420420000000377
            },
            "heapDeltaBytes": {
              "n": 8,
              "p50Ms": 6744,
              "p95Ms": 75024
            }
          },
          "snapshotAfter": {
            "eventsLength": 400,
            "instances": 0,
            "latestStates": 0,
            "latestTraitSummaries": 0,
            "exportBudget": {
              "dropped": 70000,
              "oversized": 0
            },
            "snapshotToken": 4010
          }
        },
        "full": {
          "bufferSize": 500,
          "diagnosticsLevel": "light",
          "events": 100000,
          "result": {
            "runs": 10,
            "warmupDiscard": 2,
            "samplesMs": [
              168.02304200000003, 172.07233300000007, 180.73000000000002, 170.38066700000013, 165.30879200000027,
              169.33616699999993, 169.41216600000007, 164.7410829999999
            ],
            "heapDeltaBytesSamples": [-296, 19264, 42344, -39640, 42368, -9544, 21240, 44312],
            "timeMs": {
              "n": 8,
              "p50Ms": 169.33616699999993,
              "p95Ms": 172.07233300000007
            },
            "heapDeltaBytes": {
              "n": 8,
              "p50Ms": 19264,
              "p95Ms": 42368
            }
          },
          "snapshotAfter": {
            "eventsLength": 604,
            "instances": 0,
            "latestStates": 0,
            "latestTraitSummaries": 0,
            "exportBudget": {
              "dropped": 70000,
              "oversized": 0
            },
            "snapshotToken": 1004020
          }
        }
      },
      "window5000": {
        "notFull": {
          "bufferSize": 5000,
          "diagnosticsLevel": "light",
          "events": 1000,
          "result": {
            "runs": 10,
            "warmupDiscard": 2,
            "samplesMs": [
              2.824500000000171, 2.7829579999997804, 3.3116250000002765, 2.6019169999999576, 2.4930829999998423,
              3.109875000000102, 3.40170900000021, 2.648707999999715
            ],
            "heapDeltaBytesSamples": [2088, -2952, -6976, -24640, -1440, -14992, -7752, -12840],
            "timeMs": {
              "n": 8,
              "p50Ms": 2.7829579999997804,
              "p95Ms": 3.3116250000002765
            },
            "heapDeltaBytes": {
              "n": 8,
              "p50Ms": -7752,
              "p95Ms": -1440
            }
          },
          "snapshotAfter": {
            "eventsLength": 1000,
            "instances": 0,
            "latestStates": 0,
            "latestTraitSummaries": 0,
            "exportBudget": {
              "dropped": 70000,
              "oversized": 0
            },
            "snapshotToken": 1014031
          }
        },
        "full": {
          "bufferSize": 5000,
          "diagnosticsLevel": "light",
          "events": 100000,
          "result": {
            "runs": 10,
            "warmupDiscard": 2,
            "samplesMs": [
              170.2727920000002, 174.07337499999994, 183.0843749999999, 234.84170799999993, 175.70958300000075,
              178.83066600000075, 190.74020799999926, 179.08612500000072
            ],
            "heapDeltaBytesSamples": [61328, -38720, 47344, -37752, 49472, -35504, 46728, -51936],
            "timeMs": {
              "n": 8,
              "p50Ms": 178.83066600000075,
              "p95Ms": 190.74020799999926
            },
            "heapDeltaBytes": {
              "n": 8,
              "p50Ms": -35504,
              "p95Ms": 49472
            }
          },
          "snapshotAfter": {
            "eventsLength": 5700,
            "instances": 0,
            "latestStates": 0,
            "latestTraitSummaries": 0,
            "exportBudget": {
              "dropped": 70000,
              "oversized": 0
            },
            "snapshotToken": 2014041
          }
        }
      }
    },
    "txnQueue": {
      "noLinkId": {
        "iters": 20000,
        "diagnosticsLevel": "off",
        "hasLinkId": false,
        "result": {
          "runs": 10,
          "warmupDiscard": 2,
          "samplesMs": [
            465.5790420000003, 484.89216599999963, 486.5422920000001, 486.37854100000004, 482.54612499999985,
            494.3791250000013, 483.01208399999996, 518.0811250000006
          ],
          "heapDeltaBytesSamples": [23712, 6776, 31008, 10904, -1982888, -1745816, 49448, -1848],
          "timeMs": {
            "n": 8,
            "p50Ms": 484.89216599999963,
            "p95Ms": 494.3791250000013
          },
          "heapDeltaBytes": {
            "n": 8,
            "p50Ms": 6776,
            "p95Ms": 31008
          }
        }
      },
      "withLinkId": {
        "iters": 20000,
        "diagnosticsLevel": "off",
        "hasLinkId": true,
        "result": {
          "runs": 10,
          "warmupDiscard": 2,
          "samplesMs": [
            500.4940830000014, 497.2129169999989, 494.56695800000125, 488.72945900000013, 489.8133749999997, 514.9285,
            498.6462499999998, 485.0400000000009
          ],
          "heapDeltaBytesSamples": [768, 6760, 2760, -2136, 192, -2176, -2576, 4920],
          "timeMs": {
            "n": 8,
            "p50Ms": 494.56695800000125,
            "p95Ms": 500.4940830000014
          },
          "heapDeltaBytes": {
            "n": 8,
            "p50Ms": 192,
            "p95Ms": 4920
          }
        }
      }
    },
    "cleanupCurve": {
      "instances": 10000,
      "result": {
        "runs": 10,
        "warmupDiscard": 2,
        "samplesMs": [
          77.66154199999983, 80.14350000000013, 89.34254200000032, 80.68379199999981, 79.31975000000057,
          86.75400000000081, 77.29487499999959, 76.69574999999895
        ],
        "heapDeltaBytesSamples": [6464, -6544, 13728, 2512, -2880, 6232, 3960, 2864],
        "timeMs": {
          "n": 8,
          "p50Ms": 79.31975000000057,
          "p95Ms": 86.75400000000081
        },
        "heapDeltaBytes": {
          "n": 8,
          "p50Ms": 2864,
          "p95Ms": 6464
        }
      },
      "snapshotAfter": {
        "instances": 0,
        "latestStates": 0,
        "latestTraitSummaries": 0
      }
    }
  },
  "gate": {
    "ok": true,
    "sc002": {
      "expectedMaxRatio": 1.1,
      "p50Ratio5000Over500": 1.0560689377125254
    }
  }
}
